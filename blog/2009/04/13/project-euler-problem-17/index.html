
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Project Euler: Problem 17 - Real Ultimate Programming</title>
  <meta name="author" content="Hank">

  
  <meta name="description" content="I recently finished up Problem 17, and since the problem was
fairly straightforward, I used it as an opportunity to explore some of
Python’s language &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.realultimateprogramming.com//blog/2009/04/13/project-euler-problem-17">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Real Ultimate Programming" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Real Ultimate Programming</a></h1>
  
    <h2>The Home for People Who Like to Flip Out and Write Code</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.realultimateprogramming.com/" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/colophon">Colophon</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Project Euler: Problem 17</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-04-13T00:00:00-04:00" pubdate data-updated="true">Apr 13<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I recently finished up <a href="http://projecteuler.net/index.php?section=problems&amp;id=17">Problem 17</a>, and since the problem was
fairly straightforward, I used it as an opportunity to explore some of
Python’s language features that I’ve been meaning to look into.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
</pre></td><td class="code"><pre><code class="python"><span class="line">    <span class="c"># problem17.py</span>
</span><span class="line">    <span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="sd">    Find the solution to `Problem 17`_ at `Project Euler`_.</span>
</span><span class="line"><span class="sd">    </span>
</span><span class="line"><span class="sd">    .. _Problem 17: http://projecteuler.net/index.php?section=problems&amp;id;=17</span>
</span><span class="line"><span class="sd">    .. _Project Euler: http://projecteuler.net/</span>
</span><span class="line"><span class="sd">    &quot;&quot;&quot;</span>
</span><span class="line">    <span class="n">__docformat__</span> <span class="o">=</span> <span class="s">&quot;restructuredtext en&quot;</span>
</span><span class="line">
</span><span class="line">    <span class="kn">import</span> <span class="nn">re</span>
</span><span class="line">
</span><span class="line">    <span class="n">_NUMBER_NAMES</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s">&quot;five&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">6</span><span class="p">:</span> <span class="s">&quot;six&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s">&quot;seven&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s">&quot;eight&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s">&quot;nine&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="s">&quot;ten&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">11</span><span class="p">:</span> <span class="s">&quot;eleven&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="s">&quot;twelve&quot;</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="s">&quot;thirteen&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">:</span> <span class="s">&quot;fourteen&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">15</span><span class="p">:</span> <span class="s">&quot;fifteen&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">:</span> <span class="s">&quot;sixteen&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">:</span> <span class="s">&quot;seventeen&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">18</span><span class="p">:</span> <span class="s">&quot;eighteen&quot;</span><span class="p">,</span> <span class="mi">19</span><span class="p">:</span> <span class="s">&quot;nineteen&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">:</span> <span class="s">&quot;twenty&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">21</span><span class="p">:</span> <span class="s">&quot;twenty-one&quot;</span><span class="p">,</span> <span class="mi">22</span><span class="p">:</span> <span class="s">&quot;twenty-two&quot;</span><span class="p">,</span> <span class="mi">23</span><span class="p">:</span> <span class="s">&quot;twenty-three&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">24</span><span class="p">:</span> <span class="s">&quot;twenty-four&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">:</span> <span class="s">&quot;twenty-five&quot;</span><span class="p">,</span> <span class="mi">26</span><span class="p">:</span> <span class="s">&quot;twenty-six&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">27</span><span class="p">:</span> <span class="s">&quot;twenty-seven&quot;</span><span class="p">,</span> <span class="mi">28</span><span class="p">:</span> <span class="s">&quot;twenty-eight&quot;</span><span class="p">,</span> <span class="mi">29</span><span class="p">:</span> <span class="s">&quot;twenty-nine&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">30</span><span class="p">:</span> <span class="s">&quot;thirty&quot;</span><span class="p">,</span> <span class="mi">31</span><span class="p">:</span> <span class="s">&quot;thirty-one&quot;</span><span class="p">,</span> <span class="mi">32</span><span class="p">:</span> <span class="s">&quot;thirty-two&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">33</span><span class="p">:</span> <span class="s">&quot;thirty-three&quot;</span><span class="p">,</span> <span class="mi">34</span><span class="p">:</span> <span class="s">&quot;thirty-four&quot;</span><span class="p">,</span> <span class="mi">35</span><span class="p">:</span> <span class="s">&quot;thirty-five&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">36</span><span class="p">:</span> <span class="s">&quot;thirty-six&quot;</span><span class="p">,</span> <span class="mi">37</span><span class="p">:</span> <span class="s">&quot;thirty-seven&quot;</span><span class="p">,</span> <span class="mi">38</span><span class="p">:</span> <span class="s">&quot;thirty-eight&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">39</span><span class="p">:</span> <span class="s">&quot;thirty-nine&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">:</span> <span class="s">&quot;forty&quot;</span><span class="p">,</span> <span class="mi">41</span><span class="p">:</span> <span class="s">&quot;forty-one&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">42</span><span class="p">:</span> <span class="s">&quot;forty-two&quot;</span><span class="p">,</span> <span class="mi">43</span><span class="p">:</span> <span class="s">&quot;forty-three&quot;</span><span class="p">,</span> <span class="mi">44</span><span class="p">:</span> <span class="s">&quot;forty-four&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">45</span><span class="p">:</span> <span class="s">&quot;forty-five&quot;</span><span class="p">,</span> <span class="mi">46</span><span class="p">:</span> <span class="s">&quot;forty-six&quot;</span><span class="p">,</span> <span class="mi">47</span><span class="p">:</span> <span class="s">&quot;forty-seven&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">48</span><span class="p">:</span> <span class="s">&quot;forty-eight&quot;</span><span class="p">,</span> <span class="mi">49</span><span class="p">:</span> <span class="s">&quot;forty-nine&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">:</span> <span class="s">&quot;fifty&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">51</span><span class="p">:</span> <span class="s">&quot;fifty-one&quot;</span><span class="p">,</span> <span class="mi">52</span><span class="p">:</span> <span class="s">&quot;fifty-two&quot;</span><span class="p">,</span> <span class="mi">53</span><span class="p">:</span> <span class="s">&quot;fifty-three&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">54</span><span class="p">:</span> <span class="s">&quot;fifty-four&quot;</span><span class="p">,</span> <span class="mi">55</span><span class="p">:</span> <span class="s">&quot;fifty-five&quot;</span><span class="p">,</span> <span class="mi">56</span><span class="p">:</span> <span class="s">&quot;fifty-six&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">57</span><span class="p">:</span> <span class="s">&quot;fifty-seven&quot;</span><span class="p">,</span> <span class="mi">58</span><span class="p">:</span> <span class="s">&quot;fifty-eight&quot;</span><span class="p">,</span> <span class="mi">59</span><span class="p">:</span> <span class="s">&quot;fifty-nine&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">60</span><span class="p">:</span> <span class="s">&quot;sixty&quot;</span><span class="p">,</span> <span class="mi">61</span><span class="p">:</span> <span class="s">&quot;sixty-one&quot;</span><span class="p">,</span> <span class="mi">62</span><span class="p">:</span> <span class="s">&quot;sixty-two&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">63</span><span class="p">:</span> <span class="s">&quot;sixty-three&quot;</span><span class="p">,</span> <span class="mi">64</span><span class="p">:</span> <span class="s">&quot;sixty-four&quot;</span><span class="p">,</span> <span class="mi">65</span><span class="p">:</span> <span class="s">&quot;sixty-five&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">66</span><span class="p">:</span> <span class="s">&quot;sixty-six&quot;</span><span class="p">,</span> <span class="mi">67</span><span class="p">:</span> <span class="s">&quot;sixty-seven&quot;</span><span class="p">,</span> <span class="mi">68</span><span class="p">:</span> <span class="s">&quot;sixty-eight&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">69</span><span class="p">:</span> <span class="s">&quot;sixty-nine&quot;</span><span class="p">,</span> <span class="mi">70</span><span class="p">:</span> <span class="s">&quot;seventy&quot;</span><span class="p">,</span> <span class="mi">71</span><span class="p">:</span> <span class="s">&quot;seventy-one&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">72</span><span class="p">:</span> <span class="s">&quot;seventy-two&quot;</span><span class="p">,</span> <span class="mi">73</span><span class="p">:</span> <span class="s">&quot;seventy-three&quot;</span><span class="p">,</span> <span class="mi">74</span><span class="p">:</span> <span class="s">&quot;seventy-four&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">75</span><span class="p">:</span> <span class="s">&quot;seventy-five&quot;</span><span class="p">,</span> <span class="mi">76</span><span class="p">:</span> <span class="s">&quot;seventy-six&quot;</span><span class="p">,</span> <span class="mi">77</span><span class="p">:</span> <span class="s">&quot;seventy-seven&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">78</span><span class="p">:</span> <span class="s">&quot;seventy-eight&quot;</span><span class="p">,</span> <span class="mi">79</span><span class="p">:</span> <span class="s">&quot;seventy-nine&quot;</span><span class="p">,</span> <span class="mi">80</span><span class="p">:</span> <span class="s">&quot;eighty&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">81</span><span class="p">:</span> <span class="s">&quot;eighty-one&quot;</span><span class="p">,</span> <span class="mi">82</span><span class="p">:</span> <span class="s">&quot;eighty-two&quot;</span><span class="p">,</span> <span class="mi">83</span><span class="p">:</span> <span class="s">&quot;eighty-three&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">84</span><span class="p">:</span> <span class="s">&quot;eighty-four&quot;</span><span class="p">,</span> <span class="mi">85</span><span class="p">:</span> <span class="s">&quot;eighty-five&quot;</span><span class="p">,</span> <span class="mi">86</span><span class="p">:</span> <span class="s">&quot;eighty-six&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">87</span><span class="p">:</span> <span class="s">&quot;eighty-seven&quot;</span><span class="p">,</span> <span class="mi">88</span><span class="p">:</span> <span class="s">&quot;eighty-eight&quot;</span><span class="p">,</span> <span class="mi">89</span><span class="p">:</span> <span class="s">&quot;eighty-nine&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">90</span><span class="p">:</span> <span class="s">&quot;ninety&quot;</span><span class="p">,</span> <span class="mi">91</span><span class="p">:</span> <span class="s">&quot;ninety-one&quot;</span><span class="p">,</span> <span class="mi">92</span><span class="p">:</span> <span class="s">&quot;ninety-two&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">93</span><span class="p">:</span> <span class="s">&quot;ninety-three&quot;</span><span class="p">,</span> <span class="mi">94</span><span class="p">:</span> <span class="s">&quot;ninety-four&quot;</span><span class="p">,</span> <span class="mi">95</span><span class="p">:</span> <span class="s">&quot;ninety-five&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">96</span><span class="p">:</span> <span class="s">&quot;ninety-six&quot;</span><span class="p">,</span> <span class="mi">97</span><span class="p">:</span> <span class="s">&quot;ninety-seven&quot;</span><span class="p">,</span> <span class="mi">98</span><span class="p">:</span> <span class="s">&quot;ninety-eight&quot;</span><span class="p">,</span>
</span><span class="line">                    <span class="mi">99</span><span class="p">:</span> <span class="s">&quot;ninety-nine&quot;</span><span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="n">_CHARACTERS_WE_CARE_ABOUT</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;\w&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">_words_from_num</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
</span><span class="line">        <span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="sd">        Convert ``num`` to its (British) English phrase equivalent.</span>
</span><span class="line"><span class="sd">    </span>
</span><span class="line"><span class="sd">        If ``num`` is greater than 9,999 then raise an ``Exception``.</span>
</span><span class="line"><span class="sd">        &gt;&gt;&gt; _words_from_num(115)</span>
</span><span class="line"><span class="sd">        &#39;one hundred and fifteen&#39;</span>
</span><span class="line"><span class="sd">        &quot;&quot;&quot;</span>
</span><span class="line">        <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="mi">10000</span><span class="p">:</span>
</span><span class="line">            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">,</span> <span class="s">&#39;This function only supports numbers less than 10000.&#39;</span>
</span><span class="line">
</span><span class="line">        <span class="n">parts_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="line">        <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="mi">1000</span><span class="p">:</span>
</span><span class="line">            <span class="n">thousands</span> <span class="o">=</span> <span class="n">num</span> <span class="o">//</span> <span class="mi">1000</span>
</span><span class="line">            <span class="n">parts_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_NUMBER_NAMES</span><span class="p">[</span><span class="n">thousands</span><span class="p">])</span>
</span><span class="line">            <span class="n">parts_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot; thousand&quot;</span><span class="p">)</span>
</span><span class="line">            <span class="n">num</span> <span class="o">-=</span> <span class="n">thousands</span> <span class="o">*</span> <span class="mi">1000</span>
</span><span class="line">        <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span class="line">            <span class="n">hundreds</span> <span class="o">=</span> <span class="n">num</span> <span class="o">//</span> <span class="mi">100</span>
</span><span class="line">            <span class="n">parts_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_NUMBER_NAMES</span><span class="p">[</span><span class="n">hundreds</span><span class="p">])</span>
</span><span class="line">            <span class="n">parts_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot; hundred&quot;</span><span class="p">)</span>
</span><span class="line">            <span class="n">num</span> <span class="o">-=</span> <span class="n">hundreds</span> <span class="o">*</span> <span class="mi">100</span>
</span><span class="line">        <span class="k">if</span> <span class="n">num</span><span class="p">:</span>
</span><span class="line">            <span class="k">if</span> <span class="n">parts_list</span><span class="p">:</span>
</span><span class="line">                <span class="n">parts_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot; and&quot;</span><span class="p">)</span>
</span><span class="line">            <span class="n">parts_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">_NUMBER_NAMES</span><span class="p">[</span><span class="n">num</span><span class="p">]])</span>
</span><span class="line">
</span><span class="line">        <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts_list</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">_count_characters_we_care_about</span><span class="p">(</span><span class="n">string_to_count</span><span class="p">):</span>
</span><span class="line">        <span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="sd">        Count the characters in ``string_to_count``, excluding things like hyphens and spaces.</span>
</span><span class="line"><span class="sd">    </span>
</span><span class="line"><span class="sd">        &gt;&gt;&gt; _count_characters_we_care_about(&quot;one hundred and twenty-three&quot;)</span>
</span><span class="line"><span class="sd">        24</span>
</span><span class="line"><span class="sd">        &quot;&quot;&quot;</span>
</span><span class="line">        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">_CHARACTERS_WE_CARE_ABOUT</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">string_to_count</span><span class="p">))</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">problem_17</span><span class="p">(</span><span class="n">upper_bound</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">):</span>
</span><span class="line">        <span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="sd">        Find the solution to `Problem 17`_ at `Project Euler`_.</span>
</span><span class="line"><span class="sd">    </span>
</span><span class="line"><span class="sd">        .. _Problem 17: http://projecteuler.net/index.php?section=problems&amp;id;=17</span>
</span><span class="line"><span class="sd">        .. _Project Euler: http://projecteuler.net/</span>
</span><span class="line"><span class="sd">    </span>
</span><span class="line"><span class="sd">        &gt;&gt;&gt; problem_17(2)</span>
</span><span class="line"><span class="sd">        6</span>
</span><span class="line"><span class="sd">        &quot;&quot;&quot;</span>
</span><span class="line">        <span class="n">converted_nums</span> <span class="o">=</span> <span class="p">(</span><span class="n">_words_from_num</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">upper_bound</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span class="line">        <span class="n">lengths</span> <span class="o">=</span> <span class="p">(</span><span class="n">_count_characters_we_care_about</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span> <span class="k">for</span> <span class="n">phrase</span> <span class="ow">in</span> <span class="n">converted_nums</span><span class="p">)</span>
</span><span class="line">        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">lengths</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
</span><span class="line">        <span class="k">print</span> <span class="n">problem_17</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h4 id="generator-expressions">Generator Expressions</h4>

<p>The quick version: They’re like list comprehensions, only lazy. The
longer version resides in <a href="http://www.python.org/dev/peps/pep-0289">PEP 289</a>. The verdict: They rock. It
didn’t make a big difference in this problem, but in general, it’s nice
that you don’t have to allocate enough memory to contain an entire list.
One problem with them is that once you’ve consumed an element of the
generator expression, you can’t get it back, so they aren’t well-suited
for problems where you need to iterate across the data more than once.</p>

<h4 id="regexes">Regexes</h4>

<p>Regexes are hardly unique to Python, but this is the first time I’ve
ever used them in Python. One feature I was excited to try—and that
Python pioneered—is <a href="http://www.regular-expressions.info/named.html">named capturing groups</a>
but the regex I used in this example didn’t need them.</p>

<h4 id="docstrings">Docstrings</h4>

<p>I’ve written docstrings before, but this is the first time I’ve tried
to generate stand-alone documentation from them. To do the generation,
I used <a href="http://epydoc.sourceforge.net/">epydoc</a>. The original <a href="http://www.python.org/dev/peps/pep-0257">PEP 257</a> defines
docstrings in terms of plaintext, but <a href="http://www.python.org/dev/peps/pep-0287">PEP 287</a> establishes
<a href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> as a richer alternative. Since I was
generating documentation from the docstrings, I decided to go with
reStructuredText. To avoid typing <code>--docformat restructuredtext</code> every
time I invoked <code>epydoc</code> again:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="python"><span class="line">    <span class="n">__docformat__</span> <span class="o">=</span> <span class="s">&quot;restructuredtext en&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>While it took a while to get used to it (I’ve gotten pretty set in my
<a href="http://daringfireball.net/projects/markdown/">Markdown</a> ways), I really like it so far. In fact, I
liked it enough to write this entire blog post in it and simply post the
generated HTML into Blogger.</p>

<p>Back to flipping out…</p>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Hank</span></span>

      








  


<time datetime="2009-04-13T00:00:00-04:00" pubdate data-updated="true">Apr 13<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/project-euler/'>project_euler</a>, <a class='category' href='/blog/categories/python/'>python</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/04/03/sneak-attack-namedtuple/" title="Previous Post: Sneak Attack: namedtuple">&laquo; Sneak Attack: namedtuple</a>
      
      
        <a class="basic-alignment right" href="/blog/2009/04/17/sneak-attack-importing-csv-files-to/" title="Next Post: Sneak Attack: Importing CSV Files to PostgreSQL Databases">Sneak Attack: Importing CSV Files to PostgreSQL Databases &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
    <h1>Related Posts</h1>
    <ul class="posts">
    
        <li class="related">
        <a href="/blog/2009/02/05/project-euler-problem-6/">Project Euler: Problem 6</a>
        </li>
    
        <li class="related">
        <a href="/blog/2009/05/14/pyatl-notes/">Notes from PyATL 2009-05-14</a>
        </li>
    
        <li class="related">
        <a href="/blog/2009/02/16/project-euler-problem-11/">Project Euler: Problem 11</a>
        </li>
    
        <li class="related">
        <a href="/blog/2009/08/07/project-euler-problems-18-and-67/">Project Euler, Problems 18 and 67</a>
        </li>
    
        <li class="related">
        <a href="/blog/2009/02/09/project-euler-problem-8/">Project Euler: Problem 8</a>
        </li>
    
    </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/07/10/notes-from-pyatl-2014-07-10/">Notes From PyATL 2014-07-10</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/09/notes-from-pyatl-2014-01-09/">Notes From PyATL 2014-01-09</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/14/sneak-attack-cant-verify-rubygems-on-os-x/">Sneak Attack: Can't Verify RubyGems on OS X</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/12/notes-from-pyatl-2013-12-12/">Notes From PyATL 2013-12-12</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/13/notes-from-pyatl-2013-06-13/">Notes From PyATL 2013-06-13</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Popular Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2007/05/21/what-is-programmers-purpose-in-life/">What is a programmer's purpose in life?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2007/05/31/picking-your-next-programming-language/">Picking Your Next Programming Language</a>
      </li>
    
      <li class="post">
        <a href="/blog/2007/05/31/speaking-of-debugging/">Speaking of Debugging…</a>
      </li>
    
      <li class="post">
        <a href="/blog/2007/06/04/education-of-programmer/">The Education of a Programmer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2007/06/10/g-client-and-special-sauce/">G-Client and Special Sauce</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Category Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/adium' style='font-size: 100.8955223880597%'>adium(1)</a> <a href='/blog/categories/amqp' style='font-size: 100.8955223880597%'>amqp(1)</a> <a href='/blog/categories/benchmarking' style='font-size: 100.8955223880597%'>benchmarking(1)</a> <a href='/blog/categories/blogger' style='font-size: 100.8955223880597%'>blogger(1)</a> <a href='/blog/categories/book-review' style='font-size: 105.3731343283582%'>book_review(6)</a> <a href='/blog/categories/compilers' style='font-size: 100.8955223880597%'>compilers(1)</a> <a href='/blog/categories/debugging' style='font-size: 100.8955223880597%'>debugging(1)</a> <a href='/blog/categories/design' style='font-size: 100.8955223880597%'>design(1)</a> <a href='/blog/categories/distutils' style='font-size: 100.8955223880597%'>distutils(1)</a> <a href='/blog/categories/django' style='font-size: 102.68656716417911%'>django(3)</a> <a href='/blog/categories/education-sicp' style='font-size: 103.58208955223881%'>Education:SICP(4)</a> <a href='/blog/categories/firefox' style='font-size: 100.8955223880597%'>firefox(1)</a> <a href='/blog/categories/five-things-i-hate' style='font-size: 101.7910447761194%'>five_things_I_hate(2)</a> <a href='/blog/categories/functional-programming' style='font-size: 100.8955223880597%'>functional_programming(1)</a> <a href='/blog/categories/git' style='font-size: 102.68656716417911%'>git(3)</a> <a href='/blog/categories/grails' style='font-size: 101.7910447761194%'>Grails(2)</a> <a href='/blog/categories/haskell' style='font-size: 100.8955223880597%'>Haskell(1)</a> <a href='/blog/categories/homebrew' style='font-size: 100.8955223880597%'>homebrew(1)</a> <a href='/blog/categories/http' style='font-size: 100.8955223880597%'>http(1)</a> <a href='/blog/categories/http-authentication' style='font-size: 100.8955223880597%'>http_authentication(1)</a> <a href='/blog/categories/humor' style='font-size: 100.8955223880597%'>humor(1)</a> <a href='/blog/categories/java' style='font-size: 104.4776119402985%'>Java(5)</a> <a href='/blog/categories/javascript' style='font-size: 101.7910447761194%'>JavaScript(2)</a> <a href='/blog/categories/man' style='font-size: 100.8955223880597%'>man(1)</a> <a href='/blog/categories/matplotlib' style='font-size: 100.8955223880597%'>matplotlib(1)</a> <a href='/blog/categories/maven' style='font-size: 100.8955223880597%'>maven(1)</a> <a href='/blog/categories/mongodb' style='font-size: 100.8955223880597%'>MongoDB(1)</a> <a href='/blog/categories/mongodb' style='font-size: 100.8955223880597%'>mongodb(1)</a> <a href='/blog/categories/netbsd' style='font-size: 100.8955223880597%'>NetBSD(1)</a> <a href='/blog/categories/non-programming' style='font-size: 101.7910447761194%'>non-programming(2)</a> <a href='/blog/categories/note-to-self' style='font-size: 108.95522388059702%'>note-to-self(10)</a> <a href='/blog/categories/note-to-self' style='font-size: 100.8955223880597%'>note_to_self(1)</a> <a href='/blog/categories/np-complete' style='font-size: 100.8955223880597%'>np-complete(1)</a> <a href='/blog/categories/open-source' style='font-size: 100.8955223880597%'>open-source(1)</a> <a href='/blog/categories/optimization' style='font-size: 100.8955223880597%'>optimization(1)</a> <a href='/blog/categories/oracle' style='font-size: 104.4776119402985%'>Oracle(5)</a> <a href='/blog/categories/osx' style='font-size: 106.26865671641791%'>osx(7)</a> <a href='/blog/categories/packaging' style='font-size: 100.8955223880597%'>packaging(1)</a> <a href='/blog/categories/postgresql' style='font-size: 101.7910447761194%'>postgresql(2)</a> <a href='/blog/categories/profiling' style='font-size: 100.8955223880597%'>profiling(1)</a> <a href='/blog/categories/project-euler' style='font-size: 119.70149253731343%'>project_euler(22)</a> <a href='/blog/categories/pyatl' style='font-size: 121.49253731343283%'>PyATL(24)</a> <a href='/blog/categories/pycon' style='font-size: 100.8955223880597%'>pycon(1)</a> <a href='/blog/categories/pygments' style='font-size: 100.8955223880597%'>pygments(1)</a> <a href='/blog/categories/python' style='font-size: 160.0%'>python(67)</a> <a href='/blog/categories/quicksilver' style='font-size: 100.8955223880597%'>quicksilver(1)</a> <a href='/blog/categories/r' style='font-size: 100.8955223880597%'>R(1)</a> <a href='/blog/categories/rails' style='font-size: 101.7910447761194%'>rails(2)</a> <a href='/blog/categories/rest' style='font-size: 100.8955223880597%'>REST(1)</a> <a href='/blog/categories/ruby' style='font-size: 100.8955223880597%'>ruby(1)</a> <a href='/blog/categories/screen' style='font-size: 100.8955223880597%'>screen(1)</a> <a href='/blog/categories/sneak-attack' style='font-size: 136.71641791044777%'>sneak_attack(41)</a> <a href='/blog/categories/solarized' style='font-size: 100.8955223880597%'>solarized(1)</a> <a href='/blog/categories/sphinx' style='font-size: 100.8955223880597%'>Sphinx(1)</a> <a href='/blog/categories/spring-security' style='font-size: 100.8955223880597%'>spring_security(1)</a> <a href='/blog/categories/sql' style='font-size: 100.8955223880597%'>sql(1)</a> <a href='/blog/categories/statistics' style='font-size: 101.7910447761194%'>statistics(2)</a> <a href='/blog/categories/subversion' style='font-size: 100.8955223880597%'>subversion(1)</a> <a href='/blog/categories/sudo' style='font-size: 100.8955223880597%'>sudo(1)</a> <a href='/blog/categories/tee' style='font-size: 100.8955223880597%'>tee(1)</a> <a href='/blog/categories/testing' style='font-size: 100.8955223880597%'>testing(1)</a> <a href='/blog/categories/tuscany' style='font-size: 100.8955223880597%'>tuscany(1)</a> <a href='/blog/categories/unix' style='font-size: 100.8955223880597%'>unix(1)</a> <a href='/blog/categories/usability' style='font-size: 100.8955223880597%'>usability(1)</a> <a href='/blog/categories/user-management' style='font-size: 100.8955223880597%'>user-management(1)</a> <a href='/blog/categories/version-control' style='font-size: 100.8955223880597%'>version-control(1)</a> <a href='/blog/categories/vim' style='font-size: 101.7910447761194%'>vim(2)</a> <a href='/blog/categories/virtualenv' style='font-size: 100.8955223880597%'>virtualenv(1)</a> <a href='/blog/categories/virtualenvwrapper' style='font-size: 100.8955223880597%'>virtualenvwrapper(1)</a> <a href='/blog/categories/windows' style='font-size: 100.8955223880597%'>Windows(1)</a> </span>
</section>

<section>
  <h1>Stack Overflow</h1>
  <a href="http://stackoverflow.com/users/4203/hank-gay"><img src="http://stackoverflow.com/users/flair/4203.png" width="208" height="58" alt="profile for hank-gay at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for hank-gay at Stack Overflow, Q&amp;A for professional and enthusiast programmers"></a>
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/gthank">@gthank</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'gthank',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Hank -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
